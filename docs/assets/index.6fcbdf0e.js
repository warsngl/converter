import{c as p,r as h,o as u,a as d,b as m,d as i,w as f,v as _,t as v,e as y,f as g,g as b}from"./vendor.6fc67ed6.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};$();const w=p({state(){return{count:0}},mutations:{increment(e){e.count++}}});function C(e,t,n,c,r,s){const o=h("router-view");return u(),d(o)}var l=(e,t)=>{const n=e.__vccOpts||e;for(const[c,r]of t)n[c]=r;return n};const L={};var k=l(L,[["render",C]]);const x={class:"content"},S={class:"flex"},T={class:"p-total"};function B(e,t,n,c,r,s){return u(),m("div",x,[i("div",S,[f(i("input",{class:"input-query","onUpdate:modelValue":t[0]||(t[0]=o=>e.inputQuery=o),type:"string",placeholder:"2 btc in usd"},null,512),[[_,e.inputQuery]]),i("button",{class:"btn-convert",onClick:t[1]||(t[1]=o=>s.convert(e.inputQuery))},"Convert")]),i("p",T,v(s.total),1)])}const O={data:()=>({coin:"",fiat:"",price:null,amount:null,inputQuery:"",cacheLifeTime:12e4,cache:{},error:null}),computed:{total(){return this.coin||this.price?this.numberWithSpace((this.price*this.amount).toFixed(2))+" "+this.fiat+" for "+this.amount+" "+this.coin:"Enter amount"}},methods:{getCoinPrice(e,t){var n,c,r,s;if(e!=null||(e=this.coin),t!=null||(t=this.fiat),((c=(n=this.cache[e])==null?void 0:n[t])==null?void 0:c.cacheTime)&&Date.now()-((s=(r=this.cache[e])==null?void 0:r[t])==null?void 0:s.cacheTime)<this.cacheLifeTime){this.price=this.cache[e][t].price;return}else this.error=null,fetch(`https://min-api.cryptocompare.com/data/pricemulti?fsyms=${e}&tsyms=${t}&api_key=b5a5b68758c1e3428691ea0f0fcac1dfe98df8c99dba00cfac673e16b887c436`).catch(o=>this.error=o).then(o=>o.json()).then(o=>{var a;this.price=+o[e][t],(a=this.cache[e])!=null||(this.cache[e]={}),this.cache[e][t]={cacheTime:Date.now(),price:this.price}})},matchInputQuery(e){e!=null||(e=this.inputQuery);const t=e.split(" ");this.amount=t[0],this.coin=t[1].toUpperCase(),this.fiat=t.at(-1).toUpperCase()},convert(e){this.matchInputQuery(e),this.getCoinPrice()},numberWithSpace(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}},created(){}};var A=l(O,[["render",B]]);const D=[{path:"/",component:A}],H=y({history:g(),routes:D});b(k).use(H).use(w).mount("#app");
